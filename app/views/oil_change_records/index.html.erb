<div class="container">
  <h1><%= t('.title', vehicle_name: @vehicle.vehicle_name) %></h1>

  <% if @oil_change_records.any? %>
    <table class="table table-striped">
      <thead>
        <tr>
          <th><%= t('.changed_at') %></th>
          <th><%= t('.mileage') %></th>
          <th><%= t('.memo') %></th>
          <th></th> <%# 編集・削除ボタン用の列 %>
        </tr>
      </thead>
      <tbody>
        <% @oil_change_records.each do |record| %>
          <tr>
            <td><%= l record.changed_at, format: :long %></td>
            <td><%= number_with_delimiter(record.mileage) %> <%= t('.mileage_unit') %></td>
            <td><%= record.memo %></td>
            <td>
              <%= link_to t('.edit'), edit_vehicle_oil_change_record_path(@vehicle, record), class: 'btn btn-sm btn-primary' %>
              <%= button_to t('.delete'), vehicle_oil_change_record_path(@vehicle, record), 
                            method: :delete, 
                            data: { turbo_method: :delete, turbo_confirm: t('.delete_confirm') },
                            class: 'btn btn-sm btn-danger' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p><%= t('.no_records') %></p>
  <% end %>

  <div class="mt-3">
    <%= link_to t('.back'), @vehicle, class: 'btn btn-secondary' %>
    <%= link_to t('.oil_change_record'), new_vehicle_oil_change_record_path(@vehicle), class: 'btn btn-primary' %>
  </div>
</div>